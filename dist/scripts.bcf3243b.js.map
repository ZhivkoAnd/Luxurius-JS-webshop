{"version":3,"sources":["scripts/index.js"],"names":["WOW","init","$","click","animate","scrollTop","offset","top","logg","document","querySelector","addEventListener","e","modal","reg","log","panel","accountDetails","cart","setupUI","user","html","email","innerHTML","logout","style","display","getElementById","clothesRow","setupClothes","data","length","forEach","doc","clothes","col","imageURL","name","price","auth","onAuthStateChanged","db","collection","onSnapshot","snapshot","docs","getElementsByClassName","setupCart","err","console","message","signupForm","preventDefault","value","password","createUserWithEmailAndPassword","then","currentUser","reset","signOut","loginForm","signInWithEmailAndPassword","cred","removeCartItemButtons","i","button","removeCartItem","quantityInputs","input","quantityChanged","addToCartButtons","addToCartClicked","purchaseClicked","alert","cartItems","hasChildNodes","removeChild","firstChild","updateCartTotal","buttonClicked","target","parentElement","remove","isNaN","shopItem","title","innerText","imageSrc","src","addItemToCart","cartRow","createElement","cartItemNames","cartRowContents","append","cartItemContainer","cartRows","total","priceElement","quantityElement","parseFloat","replace","quantity","Math","round"],"mappings":"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","file":"scripts.bcf3243b.js","sourceRoot":"..","sourcesContent":["new WOW().init();\r\n// const auth = firebase.auth();\r\n// const db = firebase.firestore();\r\n\r\n  \r\n///////////////////////////////////// SCROLL DOWN BUTTON ///////////////////////////////////////////\r\n\r\n$(function() {\r\n    $('.scroll-down').click (function() {\r\n      $('html, body').animate({scrollTop: $('section.ok').offset().top }, 'slow');\r\n      return false;\r\n    });\r\n  });\r\n\r\n///////////////////////////////////// HIDE AND SHOW MODALS ///////////////////////////////////////////\r\n\r\n  const logg = document.querySelector(\"#logg\");\r\n  logg.addEventListener(\"click\", e => {\r\n      $('#modalRegisterForm').modal('hide');\r\n  });\r\n  \r\n  const reg = document.querySelector('#reg');\r\n  reg.addEventListener(\"click\", e => {\r\n      $('#modalLoginForm').modal('hide');\r\n  });\r\n\r\n\r\n///////////////////////////////////// DISPLAY UI IF THE USER IS LOGGED IN OR NOT ///////////////////////////////////////////\r\n\r\nconst log = document.querySelector('#log');\r\nconst panel = document.querySelector('#panel');\r\nconst accountDetails = document.querySelector('#username');\r\nconst cart = document.querySelector('#cart');\r\n\r\nconst setupUI = user => {\r\n    if(user) {\r\n        // Account info\r\n        const html = `\r\n            ${user.email}\r\n        `;\r\n          accountDetails.innerHTML = html;\r\n        //  signup.style.display = 'none';\r\n          logout.style.display = 'block';\r\n          log.style.display = 'none';\r\n          panel.style.display = 'block';\r\n          if (document.getElementById('cart')) {\r\n            cart.style.display = 'block';\r\n          }\r\n          \r\n         \r\n        // addButton.style.display = 'block';\r\n    } else {\r\n      // hide account info\r\n           logout.style.display = 'none';\r\n           log.style.display = 'block';\r\n           panel.style.display = 'none';\r\n           if (document.getElementById('cart')) {\r\n            cart.style.display = 'none';\r\n          }\r\n    // //   addButton.style.display = 'none';\r\n    //   out.style.display = 'none';\r\n    //     reg.addEventListener('click', e => {\r\n    //       login.style.display = 'none';\r\n    //       signup.style.display = 'block';\r\n    //     });\r\n    //     log.addEventListener('click', e => {\r\n    //       login.style.display = 'block';\r\n    //       signup.style.display = 'none';\r\n    //     });\r\n      \r\n    }\r\n};\r\n\r\n\r\n\r\n///////////////////////////////////// DISPLAY THE CLOTHES LIST ///////////////////////////////////////////\r\n\r\nconst clothesRow = document.querySelector('#clothesrow');\r\n\r\nconst setupClothes = data => {\r\n\r\n  //  if (data.length && document.getElementById('clothesrow')) {\r\n      if (data.length) {\r\n    let html = '';\r\n    data.forEach(doc => {\r\n        const clothes = doc.data();\r\n        const col = `\r\n         <div class=\"col-lg-3 col-md-6 mb-4\">\r\n            <!-- Card -->\r\n            <div class=\"card card-cascade wider card-ecommerce\">\r\n              <!-- Card image -->\r\n              <div class=\"view view-cascade overlay\">\r\n                <img src=\"${clothes.imageURL}\" class=\"card-img-top shop-item-image\"\r\n                  alt=\"sample photo\">\r\n                <a>\r\n                  <div class=\"mask rgba-white-slight\"></div>\r\n                </a>\r\n              </div>\r\n              <!-- Card image -->\r\n              <!-- Card content -->\r\n              <div class=\"card-body card-body-cascade text-center pb-0\">\r\n                <!-- Title -->\r\n                <h5 class=\"card-title\">\r\n                  <strong>\r\n                    <a href=\"\" id='clothname' class='shop-item-title'>${clothes.name}</a>\r\n                  </strong>\r\n                </h5>\r\n        \r\n                <!-- Card footer -->\r\n                <div class=\"card-footer mt-4\">\r\n                  <p class=\"float-left font-weight-bold mb-1 pb-2 shop-item-price\">$ ${clothes.price}</p>\r\n                  <a class=\"float-right material-tooltip-main\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Add to Wishlist\">\r\n                    <i class=\"fas fa-heart grey-text ml-3\" id='hearthover'></i>\r\n                  </a>\r\n                  <a class=\"float-right material-tooltip-main\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Quick Look\">\r\n                    <i class=\"fas fa-eye grey-text ml-3\" id='eyehover'></i>\r\n                  </a>\r\n                  <a class=\"float-right material-tooltip-main\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Add to Cart\">\r\n                  <i class=\"fa fa-shopping-cart grey-text ml-2 shop-item-button\" id='carthover'></i>\r\n                </a>\r\n                </div>\r\n              </div>\r\n              <!-- Card content -->\r\n            </div>\r\n            <!-- Card -->\r\n          </div>\r\n        `\r\n       html += col\r\n    });\r\n    \r\n    clothesRow.innerHTML = html;\r\n  \r\n    }   \r\n    };\r\n    \r\n///////////////////////////////////// AUTHENTICATION STATUS ///////////////////////////////////////////\r\n\r\n\r\n\r\n// listen to auth status changes\r\n// Every time there is an auth change ( user logs in or logs out) the callback function will fire\r\nauth.onAuthStateChanged(user => {\r\n  // so if the user is logged in, do something, otherwise the user will not be logged in  \r\nif(user) {\r\n// get the data from the database\r\n// db.collection('guides').get().then(snapshot => { - Old non-real time listener            where(\"userId\", \"==\", user.uid)\r\ndb.collection('clothes').onSnapshot(snapshot => {\r\n//     // we are passing this data array of documents, so we can cycle through it in index.js\r\n\r\n   setupClothes(snapshot.docs);\r\n  if( document.getElementsByClassName('cart-items')[0]) {\r\n   setupCart();\r\n  }\r\n   setupUI(user);\r\n//     // when we use onShapshot, we add the error message as second parameter, and not as a catch method\r\n}, err => {\r\n console.log(err.message);\r\n});\r\n\r\n} else {\r\n  // setupUI(user);\r\n  // // if the user is not logged in, he will see an empty array without any data\r\n  // // setupTodos([]);\r\n  db.collection('clothes').onSnapshot(snapshot => {\r\n    //     // we are passing this data array of documents, so we can cycle through it in index.js\r\n       setupClothes(snapshot.docs);\r\n       setupUI(user);\r\n    //     // when we use onShapshot, we add the error message as second parameter, and not as a catch method\r\n    }, err => {\r\n     console.log(err.message);\r\n    });\r\n}\r\n});\r\n\r\n// Thing to notice - Firebase has automatic state persistence, so the user will be saved even upon refresh, like a local storage\r\n\r\n\r\n// ///////////////////////////////////// REGISTER THE USER ///////////////////////////////////////////\r\n\r\n// setTimeout(function(){\r\n//   var kek = document.querySelector('.shop-item-button');\r\n//   console.log(kek);\r\n//    }, 1000);\r\n\r\nconst signupForm = document.querySelector('#signup-form');\r\nsignupForm.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  \r\n  // get user info\r\n  // With the square brackets, we access the input fields id from the html\r\n  // finally we get the value of what the user wrote\r\n  const email = signupForm['signup-email'].value;\r\n  const password = signupForm['signup-password'].value;\r\n\r\n  // Sign up the user with those details\r\n  // This is an ASYNC task, so it will take some time to complete, so we add the then method\r\n  // The .then method will fire when task completes, so in this case, when we get the credentials.\r\n  auth.createUserWithEmailAndPassword(email, password).then( currentUser => {\r\n   // firebase.firestore().collection('users').doc(currentUser.uid).set(currentUser)\r\n        // we use return so we cn then use the .then method, then we use the doc method to match the uniq Id of the users that register on the document - match the users collection with auth user database\r\n        signupForm.reset();\r\n        console.log('New user is registered');\r\n        $('#modalRegisterForm').modal('hide');\r\n      });    \r\n  });\r\n\r\n\r\n///////////////////////////////////// LOG OUT THE USER ///////////////////////////////////////////\r\n\r\n\r\nconst logout = document.querySelector('#logout');\r\n\r\nlogout.addEventListener('click', e => {\r\n  e.preventDefault();\r\n  // using the sign out method provided by FareStore\r\n  auth.signOut();\r\n  console.log('User is logged out');\r\n});\r\n\r\n\r\n///////////////////////////////////// LOG IN THE USER ///////////////////////////////////////////\r\n\r\n\r\nconst loginForm = document.querySelector('#login-form');\r\nloginForm.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  // Get the user info\r\n  const email = loginForm['login-email'].value;\r\n  const password = loginForm['login-password'].value;\r\n\r\n    auth.signInWithEmailAndPassword(email, password).then( cred => {\r\n   \r\n    loginForm.reset();\r\n    console.log('user is logged in');\r\n    $('#modalLoginForm').modal('hide');\r\n  });\r\n});\r\n\r\n\r\n// auth.createUserWithEmailAndPassword(email, password).then( cred => {\r\n//   return db.collection('users').doc(cred.user.uid).set({\r\n//     name: signupForm['listitem'].value\r\n//   });\r\n//    }).then(() => {\r\n// // we use return so we cn then use the .then method, then we use the doc method to match the uniq Id of the users that register on the document - match the users collection with auth user database\r\n// signupForm.reset();\r\n//    });    \r\n// });\r\n\r\n\r\n\r\n\r\nfunction setupCart() {\r\n  var removeCartItemButtons = document.getElementsByClassName('fa fa-times');\r\n\r\n  for(var i=0; i < removeCartItemButtons.length; i++) {\r\n      var button = removeCartItemButtons[i];\r\n      button.addEventListener('click', removeCartItem );\r\n  }\r\n\r\n  var quantityInputs = document.getElementsByClassName('cart-quantity-input');    \r\n  for(var i=0; i < quantityInputs.length; i++) { \r\n      var input = quantityInputs[i];\r\n      input.addEventListener('change', quantityChanged);\r\n  }\r\n  var addToCartButtons = document.getElementsByClassName('shop-item-button');\r\n  for(var i=0; i < addToCartButtons.length; i++) {\r\n      var button = addToCartButtons[i];\r\n      button.addEventListener('click', addToCartClicked);\r\n  }\r\n\r\n  document.getElementsByClassName('btn-purchase')[0].addEventListener('click', purchaseClicked);  \r\n}\r\n\r\nfunction purchaseClicked() {\r\n  alert('Thank you for your purchase');\r\n  var cartItems = document.getElementsByClassName('cart-items')[0];\r\n  while (cartItems.hasChildNodes()){\r\n    cartItems.removeChild(cartItems.firstChild);\r\n  }\r\n  updateCartTotal();\r\n}\r\n\r\nfunction removeCartItem(e) {\r\n  var buttonClicked = e.target;\r\n      buttonClicked.parentElement.parentElement.parentElement.remove();\r\n      updateCartTotal();\r\n}\r\n\r\n\r\nfunction quantityChanged(e) {\r\n  var input = e.target;\r\n  if (isNaN(input.value)|| input.value <= 0) {\r\n      input.value = 1;\r\n  }\r\n  updateCartTotal();\r\n}\r\n\r\n\r\nfunction addToCartClicked(e) {\r\n  var button = e.target;\r\n  var shopItem = button.parentElement.parentElement.parentElement.parentElement;\r\n  var title = shopItem.getElementsByClassName('shop-item-title')[0].innerText;\r\n  var price = shopItem.getElementsByClassName(\"shop-item-price\")[0].innerText;\r\n  var imageSrc = shopItem.getElementsByClassName('shop-item-image')[0].src;\r\n  addItemToCart(title,price,imageSrc);\r\n  updateCartTotal();\r\n}\r\n\r\nfunction addItemToCart(title,price,imageSrc) {\r\n   var cartRow = document.createElement('div');\r\n   var cartItems = document.getElementsByClassName('cart-items')[0]; \r\n   var cartItemNames = cartItems.getElementsByClassName('cart-item-title');\r\n   for (var i = 0; i < cartItemNames.length; i++) {\r\n     if (cartItemNames[i].innerText == title) {\r\n       alert('This item is already added to the cart!');\r\n       return;\r\n     }\r\n   }\r\n   var cartRowContents = `\r\n    \r\n   <div class='cart-row row'>\r\n   <div class=\"col-lg-2 col-md-6 mb-4 colu\"><a href=\"#\"><i class=\"fa fa-times\" aria-hidden=\"true\"></i></a></div>\r\n   <div class=\"col-lg-2 col-md-6 mb-4 colu\"><img src='${imageSrc}' id='cartpic'></div>\r\n   <div class=\"col-lg-2 col-md-6 mb-4 colu\"><span class='cart-item-title'>${title}</span></div>\r\n   <div class=\"col-lg-2 col-md-6 mb-4 colu\">\r\n   <input class=\"cart-quantity-input\" type=\"number\" value=\"1\">\r\n   </div>\r\n   <div class=\"col-lg-2 col-md-6 mb-4 colu\"><span class=\"cart-price\">${price}</span></div>\r\n </div>  \r\n   `\r\n   cartRow.innerHTML = cartRowContents;\r\n   cartItems.append(cartRow);\r\n   cartRow.getElementsByClassName('fa fa-times')[0].addEventListener('click', removeCartItem);\r\n   cartRow.getElementsByClassName('cart-quantity-input')[0].addEventListener('change', quantityChanged);\r\n}\r\n\r\nfunction updateCartTotal() {\r\nvar cartItemContainer = document.getElementsByClassName('cart-items')[0];\r\nvar cartRows = cartItemContainer.getElementsByClassName('cart-row');\r\nvar total = 0;\r\nfor(var i=0; i < cartRows.length; i++) {\r\n    var cartRow = cartRows[i];\r\n    var priceElement = cartRow.getElementsByClassName('cart-price')[0];\r\n    var quantityElement = cartRow.getElementsByClassName('cart-quantity-input')[0];\r\n    var price = parseFloat(priceElement.innerText.replace('$', ''));\r\n    var quantity = quantityElement.value;\r\n    total = total + (price * quantity);\r\n\r\n}\r\ntotal = Math.round(total * 100) / 100;\r\ndocument.getElementsByClassName('cart-total-price')[0].innerText = '$' + total;\r\n}\r\n\r\n\r\n// let p = new Promise((resolve, reject) => {\r\n//     let a = 1 + 1;\r\n//     if ( a == 2 ) {\r\n//         resolve('success');\r\n//     } else {\r\n//         reject ('failed');\r\n//     }\r\n// });\r\n\r\n// p.then((message) => {\r\n//     console.log('This is in the then' + message);\r\n// }).catch((message) => {\r\n//     console.log('This is in the catch' + message);\r\n// });\r\n\r\n\r\n\r\n    \r\n    "]}